<div class="my-5">
  <div class="flex gap-4 flex-wrap">
    @for (tab of tabs; track tab.id) {
    <button
      class="group relative flex items-center gap-3 px-5 py-3 bg-white border-2 border-gray-200 rounded-xl cursor-pointer transition-all duration-200 hover:border-primary"
      [ngClass]="{
        'border-primary bg-gradient-to-br from-blue-50 to-white': tab.id === activeTabId
      }"
      (click)="selectTab(tab.id)"
    >
      <div class="w-8 h-8 flex items-center justify-center">
        <img [src]="tab.icon" [alt]="tab.label" class="w-full h-full object-contain" />
      </div>
      <span class="text-[15px] font-semibold text-text-dark">{{ tab.label }}</span>
      <div class="w-7 h-7">
        <svg viewBox="0 0 36 36" class="block w-full h-full">
          <path
            class="fill-none stroke-gray-200 stroke-[3]"
            d="M18 2.0845
                a 15.9155 15.9155 0 0 1 0 31.831
                a 15.9155 15.9155 0 0 1 0 -31.831"
          />
          <path
            class="fill-none stroke-[3] stroke-cap-round animate-progress"
            [style.stroke]="tab.progressColor"
            [attr.stroke-dasharray]="tab.progress + ', 100'"
            d="M18 2.0845
                a 15.9155 15.9155 0 0 1 0 31.831
                a 15.9155 15.9155 0 0 1 0 -31.831"
          />
        </svg>
      </div>
      @if (tab.id === activeTabId) {
      <div
        class="absolute -top-[57px] left-1/2 -translate-x-1/2 bg-[#1a1a2e] text-white py-2 px-3 rounded-lg text-xs whitespace-nowrap flex flex-col items-center gap-0.5 z-10 after:content-[''] after:absolute after:-bottom-1.5 after:left-1/2 after:-translate-x-1/2 after:border-l-[6px] after:border-r-[6px] after:border-t-[6px] after:border-l-transparent after:border-r-transparent after:border-t-[#1a1a2e]"
      >
        <span class="font-normal">Kursni tugallagan xodimlar</span>
        <strong class="font-semibold">{{ tab.completedCount }} nafar</strong>
      </div>
      }
    </button>
    }
  </div>
</div>
